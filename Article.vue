<template><div id="app"class="page"><div class="page__bd":class="{page__bd_pc:isPC}"><article class="weui-article"><h1>{{headline}}</h1><div class="weui-cell__bd"><a :href="weHome"class="weui-cell_link">{{user}}</a><a class="title-date">{{date}}</a></div><section v-for="sxt in sections"><h2 v-if="sxt.caption != ''">{{sxt.caption}}</h2><section class="section_content"v-for="pgh in sxt.paragraphs":class="{section_content_mini:pgh.isMini}"><h3 v-if="pgh.caption != ''">{{pgh.caption}}</h3><template v-for="item in pgh.items"><p :class="{emphasis_content:item.emphasis}"v-if="!item.image">{{item.text}}</p><p v-else><img :src="item.image"></p></template></section></section></article></div></div></template><script>export default{name:'app',data(){return{headline:"天啊！阿凡达国际奇幻灯光秀来天津了！全球唯一有心脏的生命树，7.15空降龙达",user:"啤酒节集装箱美食街庙会运营商",weHome:"https://translate.google.cn/#en/zh-CN/sections",date:"18-07-07",sections:[{caption:"标题1",paragraphs:[{isMini:true,caption:"标题2",items:[{text:"史诗级电影《阿凡达》"},{text:"在五光十色的潘多拉星球与纳美族公主"},{text:"演绎了一场浪漫的爱情故事"},{text:"▼"},{image:"https://weui.io/images/pic_article.png"},{text:"卡梅隆导演运用了高超的技术手段我们打造出了"},{text:"一个虚拟的“奇幻世界”！"},{text:"我们竭尽所能将电影里的",emphasis:true},{text:"世界变成了现实！",emphasis:true},{image:"https://weui.io/images/pic_article.png"}]}]}]}},methods:{isPC:function(){var userAgentInfo = navigator.userAgent;var Agents=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"];var flag=true;for(var v=0;v<Agents.length;v++){if(userAgentInfo.indexOf(Agents[v])>0){flag=false;break;}}return flag;}}}</script><style scoped>.page__bd_pc{position:absolute;left:50%;width:50%;margin-left:-25%;}.page__bd{text-align:center;max-width:1024px;min-width:320px;display:table-cell;}.weui-article{padding:20px 15px;font-size:15px;}.weui-article section{margin-bottom:1.5em;}.weui-article h1{font-size:19px;font-weight:400;text-align:left;}.weui-article h2{font-size:17px;font-weight:400;margin-bottom:.34em;background-color:blueviolet;color:white;}.weui-article h3{font-weight:400;font-size:15px;color:blueviolet;margin-bottom:.34em;}.weui-article *{max-width:100%;box-sizing:border-box;word-wrap:break-word;}.weui-cell__bd{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:left;}.weui-cell_link{color:#586C94;font-size:14px;}.section_content{}.section_content_mini{margin:0 0 0em;font-size:12px;}.emphasis_content{font-size:15px;color:blueviolet;text-decoration:underline;}.title-date{margin:1em;text-align:right;color:#999999;}</style>
{ name: 'article_comp',props: {checked: Boolean,headline: String,user: String,userPage: String,date: String,sections: Array,images: Array},methods: {clickImage: function (e) {this.$emit('clickImage', e.target.src);}}}
{name: "gallery-comp",props: {index:Number,images: Array},methods: {clickImage: function (e) {this.$emit('close', e);}}}
<Gallery v-if="pageName == 'gallery'" v-bind:index="index" v-bind:images="article.images" v-on:close="closeGallery"/><Article v-else v-bind="article" v-on:clickImage="openGallery"/>openGallery: function (img) {let i = this.article.images.indexOf(img);if (i > -1) {this.pageName="gallery";this.index=i;}},closeGallery: function () {this.index=-1;this.pageName="article";}
